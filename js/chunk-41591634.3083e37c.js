(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41591634"],{"2d4a":function(a,t,s){"use strict";s("bc98")},7696:function(a,t,s){"use strict";s("b0c0");var n=s("2fa3");t["a"]={signIn:function(a){var t=a.account,s=a.password;return n["b"].post("/login",{account:t,password:s})},regist:function(a){var t=a.account,s=a.name,e=a.email,o=a.password,r=a.checkPassword;return n["b"].post("/users",{account:t,name:s,email:e,password:o,checkPassword:r})},AdminSignin:function(a){var t=a.account,s=a.password;return n["b"].post("/admin/login",{account:t,password:s})}}},a1d2:function(a,t,s){"use strict";s.r(t);var n=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"logo"},[s("img",{staticClass:"logo-img",attrs:{src:a.acLogo,alt:"AC-logo"}})]),s("h1",[a._v("後台登入")]),s("form",{staticClass:"w-100",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),a.handleSubmit.apply(null,arguments)}}},[s("div",{class:["form-label-group",{"wrong-form":a.isWronging}]},[s("label",{attrs:{for:"name"}},[a._v("帳號")]),s("input",{directives:[{name:"model",rawName:"v-model",value:a.adminAccount,expression:"adminAccount"}],staticClass:"form-control",attrs:{id:"account",name:"account",type:"text",required:"",autofocus:""},domProps:{value:a.adminAccount},on:{input:function(t){t.target.composing||(a.adminAccount=t.target.value)}}}),s("p",{directives:[{name:"show",rawName:"v-show",value:a.isWronging,expression:"isWronging"}],staticClass:"wrong-message"},[a._v("帳號不存在")])]),s("div",{class:["form-label-group",{"wrong-form":a.isWronging}]},[s("label",{attrs:{for:"password"}},[a._v("密碼")]),s("input",{directives:[{name:"model",rawName:"v-model",value:a.adminPassword,expression:"adminPassword"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",autocomplete:"new-password",required:""},domProps:{value:a.adminPassword},on:{input:function(t){t.target.composing||(a.adminPassword=t.target.value)}}})]),s("button",{staticClass:"btn btn-lg btn-primary btn-block mb-3",attrs:{type:"submit",disabled:a.isProcessing}},[a._v(" 登入 ")]),s("div",{staticClass:"text-link text-center"},[s("p",[s("router-link",{staticClass:"admin-login",attrs:{to:"/signin"}},[a._v(" 前台登入 ")])],1)])])])},e=[],o=s("1da1"),r=(s("96cf"),s("d9e2"),s("7696")),i=s("2fa3"),c=s("a535"),u=s.n(c),d={data:function(){return{adminAccount:"",adminPassword:"",isProcessing:!1,isWronging:!1,acLogo:u.a}},methods:{handleSubmit:function(){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var s,n,e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a.isProcessing=!0,a.adminAccount&&a.adminPassword){t.next=5;break}return i["a"].fire({icon:"warning",title:"請填入帳號和密碼"}),t.abrupt("return");case 5:return a.isProcessing=!0,t.next=8,r["a"].AdminSignin({account:a.adminAccount,password:a.adminPassword});case 8:if(s=t.sent,console.log("response",s),n=s.data,e=s.statusText,"OK"===e&&"success"===n.status){t.next=13;break}throw new Error(e);case 13:localStorage.setItem("token",n.data.token),localStorage.setItem("userId",n.data.user.id),localStorage.setItem("userAvatar",n.data.user.avatar),a.$router.push("/admin/tweets"),t.next=25;break;case 19:t.prev=19,t.t0=t["catch"](0),a.adminPassword="",console.log(t.t0),a.isProcessing=!1,i["a"].fire({icon:"warning",title:"請確認您輸入了正確的帳號密碼"});case 25:case"end":return t.stop()}}),t,null,[[0,19]])})))()}}},l=d,m=(s("2d4a"),s("2877")),p=Object(m["a"])(l,n,e,!1,null,"2316d74c",null);t["default"]=p.exports},bc98:function(a,t,s){}}]);
//# sourceMappingURL=chunk-41591634.3083e37c.js.map