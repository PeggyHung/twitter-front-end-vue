(function(e){function t(t){for(var n,r,o=t[0],c=t[1],u=t[2],l=0,d=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,r=1;r<a.length;r++){var o=a[r];0!==s[o]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={app:0},s={app:0},i=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-185b3d06":"7e19fb1d","chunk-2d0b30b7":"b14b1f82","chunk-2e63aa39":"b9eecfd4","chunk-3b214b96":"91684e1b","chunk-4059cd68":"80f6fd56","chunk-41591634":"3083e37c","chunk-58ffb2fa":"c29760e6","chunk-8de09d2a":"c2feb3d1","chunk-9d93c0a6":"6db14d88","chunk-e3e514c4":"f119daac","chunk-f16a6c5a":"24159bd7"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"chunk-185b3d06":1,"chunk-2e63aa39":1,"chunk-3b214b96":1,"chunk-4059cd68":1,"chunk-41591634":1,"chunk-58ffb2fa":1,"chunk-8de09d2a":1,"chunk-9d93c0a6":1,"chunk-e3e514c4":1,"chunk-f16a6c5a":1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise((function(t,a){for(var n="css/"+({}[e]||e)+"."+{"chunk-185b3d06":"4dadd929","chunk-2d0b30b7":"31d6cfe0","chunk-2e63aa39":"603ad3ae","chunk-3b214b96":"7299b21e","chunk-4059cd68":"51786021","chunk-41591634":"9b18d9d4","chunk-58ffb2fa":"dc4f6a4f","chunk-8de09d2a":"d9110baa","chunk-9d93c0a6":"797fd34a","chunk-e3e514c4":"bf7762a5","chunk-f16a6c5a":"9cc30e28"}[e]+".css",s=c.p+n,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var u=i[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===s))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===n||l===s)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var n=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete r[e],f.parentNode.removeChild(f),a(i)},f.href=s;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){r[e]=0})));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,a){n=s[e]=[t,a]}));t.push(n[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var a=s[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}s[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/twitter-front-end-vue/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"01c6":function(e,t,a){},"0291":function(e,t,a){"use strict";a("a783")},"034f":function(e,t,a){"use strict";a("85ec")},"1ad8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGQSURBVHgB7ZnhbYMwEIWfOgEjMEI3CBskG+Q2ohswUrqBuwHdoLUVIiHs4Dt8F7mVP+n9QDK+ez6wjQEajUajdgav0ct5/RTq5jV59XgBndcHypN+pnGJYZb8DTBLfl0RExOWI5+qhCp9IojzOqF8tM5Iv0sDFJkQJ69Z5g6xCdUqbJ/9M/QZEA+SGtvyWtBZxintmLxm3Ef1Crs4Jh3T5t7ZKM4uRzsmpGevZ8zMdmKOGCCk5/hr5p6Q+JxpJ0ZqgCBP3hSJAUJlyQN8A4QKkwd4BgiVJh/IGSDINmtacmAOUM6AM050T9G68gY5Zh8hDL45jWp9hNjrRc7AnglWAGs4BgKESk1wDQQIFZqQGAgQKjMhNRAgyE2EezjfDWKOGHgklJ23VzhmOzFHDQQI8eppEWeX0o4JvH3+ywxYrbwqBlJbia/N9Tv0uWyuP6FIOGTaPsfWB1sTFBkQlzcEvKCMbunbJfrvocyI45suqdQPdwN//nj9YcKyEqY/ONb0uL9kGhVxS+InNBqNxr/gFz/XF5F/ycITAAAAAElFTkSuQmCC"},"1ee5":function(e,t,a){"use strict";a("9f39")},2375:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"spinner"},[a("div",{staticClass:"bouncing-loader"},[a("div"),a("div"),a("div")])])}],s=(a("1ee5"),a("2877")),i={},o=Object(s["a"])(i,n,r,!1,null,"d7e3ff30",null);t["a"]=o.exports},2797:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:"replyModal"+e.tweet.TweetId,tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"posting"},[a("img",{staticClass:"photo",attrs:{src:e.tweet.avatar?e.tweet.avatar:e.avatarNone,alt:""}}),a("div",{staticClass:"tweet-info"},[a("div",{staticClass:"user-info"},[a("span",{staticClass:"user-name"},[e._v(e._s(e.tweet.name))]),a("span",{staticClass:"user-account"},[e._v("@"+e._s(e.tweet.account))]),a("span",[e._v("．")]),a("span",{staticClass:"create-time"},[e._v(e._s(e._f("fromNow")(e.tweet.tweetCreatedAt)))])]),a("div",{staticClass:"tweet-text"},[e._v(" "+e._s(e.tweet.description)+" ")]),a("div",{staticClass:"reply-hint"},[e._v("回覆給@"+e._s(e.tweet.account))])]),a("div",{staticClass:"connect-line"})]),a("div",{staticClass:"posting reply-posting"},[a("img",{staticClass:"photo",attrs:{src:e.currentUserAvatar?e.currentUserAvatar:e.avatarNone,alt:""}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.replyContent,expression:"replyContent"}],staticClass:"new-reply",attrs:{id:"note",placeholder:"推你的回覆",autofocus:"",rows:"5"},domProps:{value:e.replyContent},on:{input:function(t){t.target.composing||(e.replyContent=t.target.value)}}})]),a("div",{staticClass:"footer"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.replyContent.length,expression:"!replyContent.length"}],staticClass:"text-limit-error"},[e._v(" 內容不可空白 ")]),a("button",{staticClass:"btn-submit",attrs:{type:"button","data-dismiss":"modal"},on:{click:e.handleSubmit}},[e._v(" 回覆 ")])])])])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],s=a("1da1"),i=(a("96cf"),a("d9e2"),a("c1df")),o=a.n(i),c=a("2fa3"),u=a("6783"),l=a("44c2"),d=a.n(l),f={name:"Replication",filters:{fromNow:function(e){return e?o()(e).fromNow():"-"}},props:{initialTweet:{type:Object,required:!1},replyTweet:{type:Object,required:!1}},data:function(){return{tweet:{},replyContent:"",userId:-1,currentUserAvatar:localStorage.getItem("userAvatar"),avatarNone:d.a}},created:function(){this.tweet=this.initialTweet,this.initialTweet?this.tweet=this.initialTweet:this.tweet=this.replyTweet,this.userId=localStorage.getItem("userId")},methods:{handleSubmit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,0!==e.replyContent.length){t.next=4;break}return c["a"].fire({icon:"warning",title:"回覆內容不可為空白"}),t.abrupt("return");case 4:return t.next=6,u["a"].createTweetReply({tweetId:e.tweet.TweetId,userId:e.userId,comment:e.replyContent});case 6:if(a=t.sent,"OK"===a.statusText){t.next=9;break}throw new Error(a.statusText);case 9:c["a"].fire({icon:"success",title:"回覆成功！"}),e.replyContent="",e.$emit("after-reply"),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log("createReplyerror",t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()}}},h=f,p=(a("0291"),a("2877")),m=Object(p["a"])(h,n,r,!1,null,"6d4ae8e4",null);t["a"]=m.exports},"2fa3":function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return u}));var n=a("bc3a"),r=a.n(n),s=a("3d20"),i=a.n(s),o="https://still-savannah-82085.herokuapp.com/api",c=r.a.create({baseURL:o}),u=i.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3})},3774:function(e,t,a){"use strict";a("01c6")},"44c2":function(e,t,a){e.exports=a.p+"img/Avatar-none.128e3479.png"},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="4678"},"4ae7":function(e,t,a){},"4ba7":function(e,t,a){"use strict";a("f546")},"4cce":function(e,t,a){"use strict";a("b0c0");var n=a("2fa3"),r=function(){return localStorage.getItem("token")},s=localStorage.getItem("userId");t["a"]={addTweetLike:function(e){return n["b"].post("/tweets/".concat(e,"/like"),null,{headers:{Authorization:"Bearer ".concat(r())}})},deleteTweetLike:function(e){return n["b"].post("/tweets/".concat(e,"/unlike"),null,{headers:{Authorization:"Bearer ".concat(r())}})},deleteLike:function(e){return n["b"].delete("/like/".concat(e),{headers:{Authorization:"Bearer ".concat(r())}})},getUserInfo:function(){return n["b"].get("/users/".concat(s),{headers:{Authorization:"Bearer ".concat(r())}})},getUserCard:function(e){return n["b"].get("/users/".concat(e),{headers:{Authorization:"Bearer ".concat(r())}})},accountSetting:function(e){var t=e.account,a=e.name,i=e.email,o=e.password,c=e.checkPassword;return n["b"].put("/users/".concat(s),{account:t,name:a,email:i,password:o,checkPassword:c},{headers:{Authorization:"Bearer ".concat(r())}})},updateUserCard:function(e){var t=e.formData;return n["b"].put("/users/".concat(s),t,{headers:{Authorization:"Bearer ".concat(r())}})},getTopFollowedUser:function(){return n["b"].get("/users/topFollowedUser",{headers:{Authorization:"Bearer ".concat(r())}})},addFollow:function(e){return n["b"].post("/followships",e,{headers:{Authorization:"Bearer ".concat(r())}})},removeFollow:function(e){return n["b"].delete("/followships/".concat(e),{headers:{Authorization:"Bearer ".concat(r())}})}}},"4f6a":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"twitter-project"}},[a("router-view")],1)},s=[],i=(a("4989"),a("ab8b"),{name:"App"}),o=i,c=(a("034f"),a("2877")),u=Object(c["a"])(o,r,s,!1,null,null,null),l=u.exports,d=(a("d3b7"),a("3ca3"),a("ddb0"),a("8c4f")),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",[e._v("404 Page Not Found")])},h=[],p={},m=Object(c["a"])(p,f,h,!1,null,null,null),w=m.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"left-content"},[a("Navbar")],1),a("div",{staticClass:"middle-content scrollbar"},[a("h4",{staticClass:"title"},[e._v("首頁")]),a("hr",{staticClass:"hr1"}),a("div",{staticClass:"post"},[a("div",{staticClass:"posting"},[a("img",{staticClass:"photo",attrs:{src:e.currentUserAvatar?e.currentUserAvatar:e.avatarNone,alt:""}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newTweet2,expression:"newTweet2"}],staticClass:"new-post",style:{height:e.height},attrs:{name:"new-post",maxlength:"141",autofocus:"",placeholder:"有什麼新鮮事？"},domProps:{value:e.newTweet2},on:{input:function(t){t.target.composing||(e.newTweet2=t.target.value)}}})]),a("div",{staticClass:"footer"},[a("div",{directives:[{name:"show",rawName:"v-show",value:141===e.newTweet2.length,expression:"newTweet2.length === 141"}],staticClass:"text-limit-error"},[e._v(" 字數不可超過 140 字 ")]),a("button",{staticClass:"btn-submit",attrs:{disabled:!e.newTweet2.length||141===e.newTweet2.length,type:"submit"},on:{click:e.handleAddTweet2}},[e._v(" 推文 ")])]),a("hr",{staticClass:"hr2"})]),e.isLoading?a("Spinner"):a("div",[a("div",{staticClass:"tweets"},e._l(e.tweets,(function(e){return a("TweetCard",{key:e.TweetId,attrs:{"initial-tweet":e}})})),1)])],1),a("div",{staticClass:"right-content"},[a("PopularList")],1),a("TweetModal",{on:{"after-addTweet":e.handleAddTweet}})],1)},v=[],g=a("1da1"),j=(a("96cf"),a("d9e2"),a("d178")),k=a("8f7b"),A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tweet-modal"},[a("div",{staticClass:"modal fade",attrs:{id:"tweetModal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[e._m(0),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"posting"},[a("img",{staticClass:"photo",attrs:{src:e.currentUserAvatar?e.currentUserAvatar:e.avatarNone,alt:""}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newTweet,expression:"newTweet"}],staticClass:"new-post",style:{height:e.height},attrs:{name:"new-post",maxlength:"141",placeholder:"有什麼新鮮事？"},domProps:{value:e.newTweet},on:{input:function(t){t.target.composing||(e.newTweet=t.target.value)}}})]),a("div",{staticClass:"footer"},[e.newTweet.length?141===e.newTweet.length?a("div",{staticClass:"text-limit-error"},[e._v(" 字數不可超過 140 字 ")]):e._e():a("div",{staticClass:"text-limit-error"},[e._v(" 內容不可空白 ")]),a("button",{staticClass:"btn-submit",attrs:{type:"button","data-dismiss":"modal"},on:{click:e.addTweet}},[e._v(" 推文 ")])])])])])])])},C=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])])}],T={data:function(){return{newTweet:"",height:"",currentUserAvatar:localStorage.getItem("userAvatar")}},watch:{newTweet:function(){this.newTweet.length>70?this.height="126px":this.height="66px"}},methods:{addTweet:function(){0!==this.newTweet.length&&141!==this.newTweet.length&&(this.$emit("after-addTweet",this.newTweet),this.newTweet="")}}},x=T,y=(a("4ba7"),Object(c["a"])(x,A,C,!1,null,"80b6aab2",null)),I=y.exports,U=a("f47d"),O=a("6783"),B=a("2fa3"),P=a("2375"),R=a("44c2"),z=a.n(R),E={components:{Navbar:j["a"],TweetCard:k["a"],TweetModal:I,PopularList:U["a"],Spinner:P["a"]},data:function(){return{tweets:[],newTweet2:"",height:"",replyModalTweet:{},isLoading:!0,currentUserAvatar:localStorage.getItem("userAvatar"),avatarNone:z.a}},created:function(){this.fetchTweets()},watch:{newTweet2:function(){this.newTweet2.length>70?this.height="106px":this.height="66px"}},methods:{fetchTweets:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,O["a"].getTweets();case 4:if(a=t.sent,"OK"===a.statusText){t.next=7;break}throw new Error(a.statusText);case 7:e.tweets=a.data,e.isLoading=!1,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](0),e.isLoading=!1,B["a"].fire({icon:"error",title:"無法取得推文資料，請稍後再試"});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},handleAddTweet:function(e){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,e){a.next=6;break}return B["a"].fire({icon:"error",title:"推文內容不可以為空白"}),a.abrupt("return");case 6:if(!(e.length>=140)){a.next=9;break}return B["a"].fire({icon:"error",title:"推文字數不可超過140字"}),a.abrupt("return");case 9:return a.next=11,O["a"].addTweet({description:e});case 11:n=a.sent,t.tweets=n.data,console.log("handleAddTweet",t.tweets),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](0),console.log(a.t0);case 19:case"end":return a.stop()}}),a,null,[[0,16]])})))()},handleAddTweet2:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.handleAddTweet(e.newTweet2),e.newTweet2="",console.log("handleAddTweet2",e.tweets);case 3:case"end":return t.stop()}}),t)})))()}}},L=E,_=(a("3774"),Object(c["a"])(L,b,v,!1,null,"d92a9416",null)),F=_.exports;n["a"].use(d["a"]);var N=[{path:"/",name:"root",redirect:"/signin"},{path:"/regist",name:"regist",component:function(){return a.e("chunk-185b3d06").then(a.bind(null,"879c"))}},{path:"/signin",name:"signin",component:function(){return a.e("chunk-2e63aa39").then(a.bind(null,"4a33"))}},{path:"/setting",name:"setting",component:function(){return a.e("chunk-4059cd68").then(a.bind(null,"4ef5"))}},{path:"/main/:tweet_id",name:"replylist",component:function(){return a.e("chunk-3b214b96").then(a.bind(null,"56c3"))}},{path:"/main",name:"main",component:F},{path:"/users/:id",name:"user",component:function(){return a.e("chunk-f16a6c5a").then(a.bind(null,"1511"))}},{path:"/follower/:id",name:"follower",component:function(){return a.e("chunk-8de09d2a").then(a.bind(null,"390f"))}},{path:"/following/:id",name:"following",component:function(){return a.e("chunk-e3e514c4").then(a.bind(null,"768e"))}},{path:"/admin/users",name:"admin-users",component:function(){return a.e("chunk-58ffb2fa").then(a.bind(null,"6135"))}},{path:"/admin/tweets",name:"admin-tweets",component:function(){return a.e("chunk-9d93c0a6").then(a.bind(null,"fa6a"))}},{path:"/admin",name:"admin",component:function(){return a.e("chunk-41591634").then(a.bind(null,"a1d2"))}},{path:"/test",name:"test",component:function(){return a.e("chunk-2d0b30b7").then(a.bind(null,"2762"))}},{path:"*",name:"not-found",component:w}],S=new d["a"]({routes:N});S.beforeEach((function(e,t,a){var n=localStorage.getItem("token"),r=localStorage.getItem("userId"),s=localStorage.getItem("userAvatar");return"/signin"===e.fullPath||"/admin"===e.fullPath||"/regist"===e.fullPath?n&&r&&s?void a("main"):void a():n&&r&&s?void a():void a("signin")}));var M=S,Q=a("ecee"),G=a("c074"),V=a("b702"),q=a("ad3d"),J=a("5530"),K=a("2f62");n["a"].use(K["a"]);var D=new K["a"].Store({state:{currentUser:{id:-1,account:"",name:"",email:""},isAuthenticated:!1,currentTweetId:-1},getters:{},mutations:{setCurrentUser:function(e,t){e.currentUser=Object(J["a"])(Object(J["a"])({},e.currentUser),t),e.isAuthenticated=!0},setCurrentTweetId:function(e,t){e.currentTweetId=t}},actions:{},modules:{}});Q["c"].add(G["a"],V["b"],V["a"],G["b"]),n["a"].component("font-awesome-icon",q["a"]),n["a"].config.productionTip=!1,new n["a"]({router:M,store:D,render:function(e){return e(l)}}).$mount("#app")},6783:function(e,t,a){"use strict";a("a4d3"),a("e01a");var n=a("2fa3"),r=function(){return localStorage.getItem("token")};t["a"]={getTweet:function(e){return n["b"].get("/tweets/".concat(e),{headers:{Authorization:"Bearer ".concat(r())}})},getTweetReplies:function(e){return n["b"].get("/tweets/".concat(e,"/replies"),{headers:{Authorization:"Bearer ".concat(r())}})},createTweetReply:function(e){var t=e.comment,a=e.tweetId;return n["b"].post("/tweets/".concat(a,"/replies"),{comment:t},{headers:{Authorization:"Bearer ".concat(r())}})},getTweets:function(){return n["b"].get("/tweets",{headers:{Authorization:"Bearer ".concat(r())}})},addTweet:function(e){var t=e.description;return n["b"].post("/tweets",{description:t},{headers:{Authorization:"Bearer ".concat(r())}})},getUserTweets:function(e){return n["b"].get("/users/".concat(e,"/tweets"),{headers:{Authorization:"Bearer ".concat(r())}})},getReplyTweets:function(e){return n["b"].get("/users/".concat(e,"/replied_tweets"),{headers:{Authorization:"Bearer ".concat(r())}})},getLikeTweets:function(e){return n["b"].get("/users/".concat(e,"/likes"),{headers:{Authorization:"Bearer ".concat(r())}})},getFollowersTweets:function(e){return n["b"].get("/users/".concat(e,"/followers"),{headers:{Authorization:"Bearer ".concat(r())}})},getFollowingsTweets:function(e){return n["b"].get("/users/".concat(e,"/followings"),{headers:{Authorization:"Bearer ".concat(r())}})},getTopFollowedUser:function(){return n["b"].get("/users/topFollowedUser",{headers:{Authorization:"Bearer ".concat(r())}})}}},"6a0a":function(e,t,a){"use strict";a("4ae7")},"85ec":function(e,t,a){},"8f7b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tweet"},[a("div",{staticClass:"tweet-img"},[a("router-link",{attrs:{to:{name:"user",params:{id:e.tweet.UserId}}}},[a("img",{staticClass:"user-photo",attrs:{src:e.tweet.avatar?e.tweet.avatar:e.avatarNone,alt:""}})])],1),a("div",{staticClass:"tweet-right"},[a("div",{staticClass:"user"},[a("router-link",{attrs:{to:{name:"user",params:{id:e.tweet.UserId}}}},[a("span",{staticClass:"user-name"},[e._v(e._s(e.tweet.name))]),a("span",{staticClass:"user-account"},[e._v("@"+e._s(e.tweet.account)+" ‧ ")])]),a("router-link",{attrs:{to:{name:"replylist",params:{tweet_id:e.tweet.TweetId}}}},[a("span",{staticClass:"tweet-time"},[e._v(e._s(e._f("fromNow")(e.tweet.tweetCreatedAt)))])])],1),a("div",{staticClass:"tweet-content"},[a("router-link",{attrs:{to:{name:"replylist",params:{tweet_id:e.tweet.TweetId}}}},[a("span",{staticClass:"tweet-content"},[e._v(e._s(e.tweet.description))])])],1),a("div",{staticClass:"tweet-actions"},[a("div",{staticClass:"tweet-action"},[a("font-awesome-icon",{attrs:{"data-toggle":"modal","data-target":"#replyModal"+e.tweet.TweetId,icon:"fa-regular fa-comment"}}),a("p",{staticClass:"reply-number"},[e._v(e._s(e.totalReplyCount))])],1),a("div",{staticClass:"tweet-action",class:{active:e.isLike}},[e.isLike?a("font-awesome-icon",{staticClass:"active",attrs:{icon:"fa-regular fa-heart"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.deleteLike(e.tweet.TweetId)}}}):a("font-awesome-icon",{attrs:{icon:"fa-regular fa-heart"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addLike(e.tweet.TweetId)}}}),a("p",{staticClass:"like-number"},[e._v(e._s(e.totalLikeCount))])],1)])]),a("ReplyModal",{attrs:{"initial-tweet":e.initialTweet},on:{"after-reply":e.afterReply}})],1)},r=[],s=a("1da1"),i=a("5530"),o=(a("96cf"),a("d9e2"),a("4cce")),c=a("2797"),u=a("c1df"),l=a.n(u),d=a("44c2"),f=a.n(d),h={filters:{fromNow:function(e){return e?l()(e).fromNow():"-"}},components:{ReplyModal:c["a"]},props:{initialTweet:{type:Object,required:!1}},data:function(){return{continue:!1,tweet:this.initialTweet,isLike:this.initialTweet.isLike,totalReplyCount:this.initialTweet.totalReplyCount,totalLikeCount:this.initialTweet.totalLikeCount,avatarNone:f.a}},watch:{initialTweet:function(e){this.tweet=Object(i["a"])(Object(i["a"])({},this.tweet),e)}},methods:{addLike:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,t.continue){a.next=13;break}return t.continue=!0,a.next=5,o["a"].addTweetLike(e);case 5:if(n=a.sent,"OK"===n.statusText){a.next=8;break}throw new Error(n.statusText);case 8:console.log("addLikeResponse",n),r=n.data,t.isLike=r.isLike,t.totalLikeCount=r.totalLikeCount,t.continue=!1;case 13:a.next=19;break;case 15:a.prev=15,a.t0=a["catch"](0),t.continue=!1,console.log(a.t0);case 19:case"end":return a.stop()}}),a,null,[[0,15]])})))()},deleteLike:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,t.continue){a.next=13;break}return t.continue=!0,a.next=5,o["a"].deleteTweetLike(e);case 5:if(n=a.sent,"OK"===n.statusText){a.next=8;break}throw new Error(n.statusText);case 8:console.log("deleteLikeResponse",n),r=n.data,t.isLike=r.isLike,t.totalLikeCount=r.totalLikeCount,t.continue=!1;case 13:a.next=19;break;case 15:a.prev=15,a.t0=a["catch"](0),t.continue=!1,console.log(a.t0);case 19:case"end":return a.stop()}}),a,null,[[0,15]])})))()},afterReply:function(){this.totalReplyCount+=1}}},p=h,m=(a("6a0a"),a("2877")),w=Object(m["a"])(p,n,r,!1,null,"19ce6d04",null);t["a"]=w.exports},"9f39":function(e,t,a){},a490:function(e,t,a){"use strict";a("a98d")},a535:function(e,t){e.exports="data:image/png;base64,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"},a6e0:function(e,t,a){"use strict";a("4f6a")},a783:function(e,t,a){},a98d:function(e,t,a){},d178:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav-container"},[a("div",{staticClass:"logo"},[a("img",{staticClass:"logo-img",attrs:{src:e.acLogo,alt:"logo-img"}})]),a("div",{staticClass:"navigation"},[a("router-link",{class:["nav-item",{"current-page":"main"===e.currentPage}],attrs:{to:"/main"}},[a("span",{staticClass:"nav-item-font icon-home-img"}),a("span",{staticClass:"nav-item-title"},[e._v("首頁")])]),a("router-link",{class:["nav-item",{"current-page":"user"===e.currentPage}],attrs:{to:{name:"user",params:{id:e.currentUserId}}}},[a("span",{staticClass:"nav-item-font icon-self-img"}),a("span",{staticClass:"nav-item-title"},[e._v("個人資料")])]),a("router-link",{class:["nav-item",{"current-page":"setting"===e.currentPage}],attrs:{to:"/setting"}},[a("span",{staticClass:"nav-item-font icon-setting-img"}),a("span",{staticClass:"nav-item-title"},[e._v("設定")])]),a("div",{staticClass:"nav-item-tweet"},[a("button",{staticClass:"btn-submit btn btn-lg btn-primary btn-block",attrs:{"data-toggle":"modal","data-target":"#tweetModal"},on:{click:e.toMain}},[e._v(" 推文 ")])]),a("div",{staticClass:"nav-item logo-out"},[a("img",{staticClass:"nav-item-img",attrs:{src:e.logoutImg,alt:"setting-img"}}),a("span",{staticClass:"nav-item-title",on:{click:function(t){return e.logout()}}},[e._v("登出")])])],1)])},r=[],s=(a("b0c0"),a("a535")),i=a.n(s),o=a("1ad8"),c=a.n(o),u={data:function(){return{currentPage:"",currentUserId:-1,acLogo:i.a,logoutImg:c.a}},created:function(){this.currentPage=this.$route.name,this.currentUserId=localStorage.getItem("userId")},methods:{logout:function(){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userAvatar"),this.$router.push("/signin")},toMain:function(){"/main"!==this.$route.path&&this.$router.push("/main")}}},l=u,d=(a("a490"),a("2877")),f=Object(d["a"])(l,n,r,!1,null,"335d11d8",null);t["a"]=f.exports},f47d:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"popular-container"},[a("h1",{staticClass:"popular-title"},[e._v("跟隨誰")]),a("ul",{staticClass:"popular-list"},e._l(e.users,(function(t){return a("li",{key:t.id,staticClass:"popular-item",on:{click:function(a){return e.routerToUser(t.id)}}},[a("img",{staticClass:"popular-avatar",attrs:{src:t.avatar?t.avatar:e.avatarNone,alt:"user-img"}}),a("div",{staticClass:"popular-info"},[a("router-link",{staticClass:"popular-name",attrs:{to:"users/"+t.id}},[e._v(e._s(t.name))]),a("p",{staticClass:"popular-account"},[e._v(e._s(t.account))])],1),a("button",{directives:[{name:"show",rawName:"v-show",value:!t.isFollowed,expression:"!user.isFollowed"}],staticClass:"btn-follow",attrs:{disabled:e.isProcessing},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),e.addFollow(t)}}},[e._v(" 跟隨 ")]),a("button",{directives:[{name:"show",rawName:"v-show",value:t.isFollowed,expression:"user.isFollowed"}],staticClass:"btn-follow btn-following",attrs:{disabled:e.isProcessing},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),e.removeFollow(t.id)}}})])})),0)])},r=[],s=a("5530"),i=a("1da1"),o=(a("d81d"),a("7db0"),a("d3b7"),a("96cf"),a("4cce")),c=a("2fa3"),u=a("44c2"),l=a.n(u),d={data:function(){return{users:[],avatarNone:l.a,isProcessing:!1}},created:function(){this.fetchPopularList()},methods:{fetchPopularList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].getTopFollowedUser();case 3:a=t.sent,n=a.data,e.users=n,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),c["a"].fire({icon:"error",title:"無法取得跟隨誰資料，請稍後再試"}),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},addFollow:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.isProcessing=!0,a.next=4,o["a"].addFollow(e);case 4:n=a.sent,r=n.data,t.users=t.users.map((function(e){return e.id!==r.followship.followingId?e:Object(s["a"])(Object(s["a"])({},e),{},{isFollowed:!0})})),t.isProcessing=!1,window.location.reload(),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](0),t.isProcessing=!1,c["a"].fire({icon:"error",title:"無法加入追蹤，請稍後再試"});case 15:case"end":return a.stop()}}),a,null,[[0,11]])})))()},removeFollow:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isProcessing=!0,n=t.users.find((function(t){return t.id===e})),n.isFollowed=!1,a.prev=3,a.next=6,o["a"].removeFollow(e);case 6:r=a.sent,s=r.data,console.log("data",s),console.log(e),t.isProcessing=!1,window.location.reload(),a.next=18;break;case 14:a.prev=14,a.t0=a["catch"](3),t.isProcessing=!1,c["a"].fire({icon:"error",title:"無法取消追蹤，請稍後再試"});case 18:case"end":return a.stop()}}),a,null,[[3,14]])})))()},routerToUser:function(e){this.$router.push("/users/".concat(e))}}},f=d,h=(a("a6e0"),a("2877")),p=Object(h["a"])(f,n,r,!1,null,"b9271e8e",null);t["a"]=p.exports},f546:function(e,t,a){}});
//# sourceMappingURL=app.9ae869b8.js.map