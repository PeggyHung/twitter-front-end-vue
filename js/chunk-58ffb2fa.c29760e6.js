(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58ffb2fa"],{"0850":function(t,e,a){},3679:function(t,e,a){},6135:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-container"},[a("div",{staticClass:"left-content"},[a("AdminNavbar")],1),a("div",{staticClass:"right-content scrollbar"},[t._m(0),t.isLoading?a("Spinner"):a("div",[a("div",{staticClass:"admin-user-cards"},t._l(t.users,(function(t){return a("AdminUserCard",{key:t.id,attrs:{"initial-user":t}})})),1)])],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("h4",[t._v("使用者列表")])])}],r=a("1da1"),i=(a("96cf"),a("d9e2"),a("7d03")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper-admin-user-card"},[a("img",{staticClass:"cover-image",attrs:{src:t.user.cover?t.user.cover:t.coverNone,alt:""}}),a("img",{staticClass:"avatar",attrs:{src:t.user.avatar?t.user.avatar:t.avatarNone,alt:""}}),a("div",{staticClass:"info"},[a("div",{staticClass:"names"},[a("p",{staticClass:"user-name"},[t._v(t._s(t.user.name))]),a("p",{staticClass:"user-account"},[t._v("@"+t._s(t.user.account))])]),a("div",{staticClass:"counts"},[a("img",{staticClass:"tweet-count",attrs:{src:"https://i.imgur.com/41M4NLK.png",alt:""}}),a("span",[t._v(t._s(t.user.totalTweetNum))]),a("img",{staticClass:"like-count",attrs:{src:"https://i.imgur.com/dQXJ6Mp.png",alt:""}}),a("span",[t._v(t._s(t.user.totalLikeCount))])]),a("div",{staticClass:"follow-ship"},[a("span",[t._v(t._s(t.user.followersNum)+"個")]),a("span",[t._v("追隨中")]),a("span",[t._v(t._s(t.user.followingsNum)+"位")]),a("span",[t._v("追隨者")])])])])},o=[],u=a("44c2"),l=a.n(u),d=a("9dee"),m=a.n(d),v={props:{initialUser:{type:Object,required:!0}},data:function(){return{user:this.initialUser,avatarNone:l.a,coverNone:m.a}}},g=v,f=(a("f942"),a("2877")),p=Object(f["a"])(g,c,o,!1,null,"4a1b5a0e",null),h=p.exports,C=a("be6c"),_=a("2fa3"),w=a("2375"),b={components:{AdminNavbar:i["a"],AdminUserCard:h,Spinner:w["a"]},data:function(){return{users:[],isLoading:!0}},created:function(){this.fetchUsers()},methods:{fetchUsers:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,C["a"].getAdminUsers();case 4:if(a=e.sent,console.log("response",a),s=a.data,n=a.statusText,"OK"===n){e.next=9;break}throw new Error(n);case 9:t.users=s,console.log("this.users",t.users),t.isLoading=!1,e.next=19;break;case 14:e.prev=14,e.t0=e["catch"](0),t.isLoading=!1,console.log(e.t0),_["a"].fire({icon:"error",title:"無法取得後台使用者資料，請稍後再試"});case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))()}}},k=b,A=(a("d7c1"),Object(f["a"])(k,s,n,!1,null,"0e549bc9",null));e["default"]=A.exports},"6a9c":function(t,e,a){},"7d03":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-container"},[a("div",{staticClass:"logo"},[a("img",{staticClass:"logo-img",attrs:{src:t.acLogo,alt:"logo-img"}})]),a("div",{staticClass:"navigation"},[a("router-link",{class:["nav-item",{"current-page":"admin-tweets"===t.currentPage}],attrs:{to:"/admin/tweets"}},[a("span",{staticClass:"nav-item-font icon-home-img"}),a("span",{staticClass:"nav-item-title"},[t._v("推文清單")])]),a("router-link",{class:["nav-item",{"current-page":"admin-users"===t.currentPage}],attrs:{to:"/admin/users"}},[a("span",{staticClass:"nav-item-font icon-self-img"}),a("span",{staticClass:"nav-item-title"},[t._v("使用者列表")])]),a("div",{staticClass:"nav-item logo-out"},[a("img",{staticClass:"nav-item-img",attrs:{src:t.logoutImg,alt:"setting-img"}}),a("span",{staticClass:"nav-item-title",on:{click:t.logout}},[t._v("登出")])])],1)])},n=[],r=(a("b0c0"),a("a535")),i=a.n(r),c=a("1ad8"),o=a.n(c),u={data:function(){return{currentPage:"",acLogo:i.a,logoutImg:o.a}},created:function(){this.currentPage=this.$route.name},methods:{logout:function(){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userAvatar"),this.$router.push("/signin")}}},l=u,d=(a("e60f"),a("2877")),m=Object(d["a"])(l,s,n,!1,null,"4109fc86",null);e["a"]=m.exports},"9dee":function(t,e,a){t.exports=a.p+"img/Cover-none.c4fa9a5a.jpg"},be6c:function(t,e,a){"use strict";var s=a("2fa3"),n=function(){return localStorage.getItem("token")};e["a"]={getAdminTweets:function(){return s["b"].get("/admin/tweets",{headers:{Authorization:"Bearer ".concat(n())}})},getAdminUsers:function(){return s["b"].get("/admin/users",{headers:{Authorization:"Bearer ".concat(n())}})},deleteTweet:function(t){var e=t.tweetId;return s["b"].delete("/admin/tweets/".concat(e),{headers:{Authorization:"Bearer ".concat(n())}})}}},d7c1:function(t,e,a){"use strict";a("0850")},e60f:function(t,e,a){"use strict";a("6a9c")},f942:function(t,e,a){"use strict";a("3679")}}]);
//# sourceMappingURL=chunk-58ffb2fa.c29760e6.js.map